---
title: 3. ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ê³¼ ìë™ ì˜ì¡´ê´€ê³„ ì„¤ì •
date: 2023-10-02 16:00:00 +09:00
categories: [Spring, Spring ì…ë¬¸]
tags: [Spring]
---

## ğŸ“ŒìŠ¤í”„ë§ ë¹ˆê³¼ ì˜ì¡´ê´€ê³„

- ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡í•˜ê³ , ì˜ì¡´ê´€ê³„ ì„¤ì •í•˜ê¸°

```java
package hello.hellospring.controller;

import hello.hellospring.service.MemberService;
import org.springframework.stereotype.Controller;

@Controller
public class MemberController {
    private final MemberService memberService = new MemberService();

}
```

ìœ„ì™€ ê°™ì´ ì„¤ì •í•˜ê²Œ ë˜ë©´ ë‹¤ë¥¸ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œë„ `new`ë¥¼ ì‚¬ìš©í•˜ì—¬ `memberService`ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ëŠ”ë°, ì°¨ë¼ë¦¬ í•˜ë‚˜ë§Œ ìƒì„±í•´ì„œ ê³µìœ í•˜ëŠ” í¸ì´ ë‚˜ì„ ê²ƒì´ë‹¤.

```java
package hello.hellospring.controller;

import hello.hellospring.service.MemberService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;

@Controller
public class MemberController {
    private final MemberService memberService;

    @Autowired
    public MemberController(MemberService memberService){
        this.memberService = memberService;
    }
}
```

ìœ„ì™€ ê°™ì´ ìƒì„±ìì— `@Autowired`ê°€ ìˆìœ¼ë©´ ìŠ¤í”„ë§ì´ ì—°ê´€ëœ ê°ì²´ë¥¼ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì—ì„œ ì°¾ì•„ì„œ ë„£ì–´ì¤€ë‹¤. ì´ë ‡ê²Œ ê°ì²´ ì˜ì¡´ ê´€ê³„ë¥¼ ì™¸ë¶€ì—ì„œ ë„£ì–´ì£¼ëŠ” ê²ƒì„ DI(Dependency Injection), **ì˜ì¡´ì„± ì£¼ì…**ì´ë¼ê³  í•œë‹¤.

**ì¦‰, `memberController`ê°€ ìƒì„±ì´ ë  ë•Œ, ìŠ¤í”„ë§ ë¹ˆì— ë“±ë¡ë˜ì–´ ìˆëŠ” `memberService` ê°ì²´ë¥¼ ì—°ê²°ì‹œì¼œì¤€ë‹¤.**

<br/>

- ì˜¤ë¥˜ ë°œìƒ

```
Consider defining a bean of type 'hello.hellospring.service.MemberService' in your configuration.
```

ìœ„ì˜ ì˜¤ë¥˜ëŠ” memberServiceê°€ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡ë˜ì–´ ìˆì§€ ì•Šë‹¤ëŠ” ë§ì´ë‹¤. ì™œëƒí•˜ë©´ ë°‘ì˜ ì½”ë“œë¥¼ ë³´ë©´ ì´ê²ƒì€ ê·¸ëƒ¥ memberServiceë¼ëŠ” í´ë˜ìŠ¤ì´ë¯€ë¡œ ìŠ¤í”„ë§ì´ ì¸ì‹í•˜ì§€ ëª»í•˜ëŠ” ê²ƒì´ë‹¤.

```java
package hello.hellospring.service;

public class MemberService {

}
```

ê·¸ë˜ì„œ `@Service` ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì£¼ë©´ ëœë‹¤.

```java
package hello.hellospring.service;

import org.springframework.stereotype.Service;

@Service
public class MemberService {

}
```

ë§ˆì°¬ê°€ì§€ë¡œ `memberService`ì™€ `memberRepository`ë„ ì—°ê²°ì‹œì¼œë³´ì

`MemberService`

```java
package hello.hellospring.service;
import hello.hellospring.repository.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

@Service
public class MemberService {

    private final MemberRepository memberRepository;

    @Autowired
    public MemberService(MemberRepository memberRepository){
        this.memberRepository = memberRepository;
    }
}
```

`MemberRepository`

```java
package hello.hellospring.repository;

import org.springframework.stereotype.Repository;

@Repository
public class MemberRepository {

}
```

<br/>

#### ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡í•˜ëŠ” 2ê°€ì§€ ë°©ë²•

- ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ê³¼ ìë™ ì˜ì¡´ê´€ê³„ ì„¤ì • : ìœ„ ì˜ˆì‹œì™€ ê°™ì´ `@Controller`, `@Service`, `@Repository` ë“±ì˜ ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ë¹ˆì„ ë“±ë¡í–ˆëŠ”ë° ì´ê²ƒì´ **ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”**ì´ë‹¤. ì´ ì–´ë…¸í…Œì´ì…˜ ì†ì—ëŠ” `@Component` ì–´ë…¸í…Œì´ì…˜ì´ í¬í•¨ë˜ì–´ ìˆë‹¤. ë¬¼ë¡  `@Component`ë§Œ ìˆìœ¼ë©´ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ìë™ ì„¤ì •ëœë‹¤.

- ìë°” ì½”ë“œë¡œ ì§ì ‘ ìŠ¤í”„ë§ ë¹ˆ ë“±ë¡í•˜ê¸°

> ìŠ¤í”„ë§ì€ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡í•  ë•Œ, ê¸°ë³¸ìœ¼ë¡œ ì‹±ê¸€í†¤ìœ¼ë¡œ ë“±ë¡í•œë‹¤.(ìœ ì¼í•˜ê²Œ í•˜ë‚˜ë§Œ ë“±ë¡í•´ì„œ ê³µìœ í•œë‹¤.) ë”°ë¼ì„œ ê°™ì€ ìŠ¤í”„ë§ ë¹ˆì´ë©´ ëª¨ë‘ ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ì´ë‹¤. ì„¤ì •ìœ¼ë¡œ ì‹±ê¸€í†¤ì´ ì•„ë‹ˆê²Œ ì„¤ì •í•  ìˆ˜ ìˆì§€ë§Œ íŠ¹ë³„í•œ ê²½ìš°ë¥¼ ì œì™¸í•˜ë©´ ëŒ€ë¶€ë¶„ ì‹±ê¸€í†¤ì„ ì‚¬ìš©í•œë‹¤.

<br/>

## ğŸ“Œ ìë°”ì½”ë“œë¡¤ ì§ì ‘ ìŠ¤í”„ë§ ë¹ˆ ë“±ë¡í•˜ê¸°

- `MemberService`ì™€ `MemberRepository`ì˜ `@Service`, `@Repository`, `@Autowired` ì–´ë…¸í…Œì´ì…˜ë“¤ì„ ì œê±°í•˜ê³  ì§„í–‰í•´ë³´ì.

```java
package hello.hellospring;

import hello.hellospring.repository.MemberRepository;
import hello.hellospring.service.MemberService;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class SpringConfig {

    @Bean
    public MemberService memberService() {
        return new MemberService(memberRepository());
    }

    @Bean
    public MemberRepository memberRepository(){
        return new MemberRepository();
    }
}
```

`SpringConfig` í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì„œ `MemberService`ì™€ `MemberRepository`ë¥¼ ìŠ¤í”„ë§ ë¹ˆì— ë“±ë¡í•˜ê²Œ ëœë‹¤.

<br/>

> DIì˜ ì„¸ ê°€ì§€ ë°©ë²•
>
> 1. í•„ë“œ ì£¼ì…
> 2. setter ì£¼ì…
> 3. ìƒì„±ìì£¼ì…

- ì˜ì¡´ ê´€ê³„ê°€ ì‹¤í–‰ ì¤‘ì— ë™ì ìœ¼ë¡œ ë³€í•˜ëŠ” ê²½ìš°ëŠ” ê±°ì˜ ì—†ìœ¼ë¯€ë¡œ **ìƒì„±ì ì£¼ì…ì„ ê¶Œì¥**í•œë‹¤.
- ì‹¤ë¬´ì—ì„œëŠ” ì£¼ë¡œ **ì •í˜•í™”ëœ ì»¨íŠ¸ë¡¤ëŸ¬, ì„œë¹„ìŠ¤, ë¦¬í¬ì§€í† ë¦¬ ê°™ì€ ì½”ë“œëŠ” ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ ì‚¬ìš©**í•œë‹¤. ê·¸ë¦¬ê³  **ì •í˜•í™”ë˜ì§€ ì•Šê±°ë‚˜ ìƒí™©ì— ë”°ë¼ êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ ë³€ê²½í•´ì•¼í•˜ëŠ” ê²½ìš°ì—ëŠ” ì„¤ì •ì„ í†µí•´ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡**í•œë‹¤.
- ì£¼ì˜: `@Autowired`ë¥¼ í†µí•œ DIëŠ” `Controller`, `Service`ì™€ ê°™ì´ ìŠ¤í”„ë§ì´ ê´€ë¦¬í•˜ëŠ” ê°ì²´ì—ì„œë§Œ ë™ì‘í•œë‹¤. ì¦‰, ë‚´ê°€ ì§ì ‘ ìƒì„±í•œ ê°ì²´ì—ì„œëŠ” ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.
